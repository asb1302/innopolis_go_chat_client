# innopolis_go_chat_client

## Технические подробности

* Описание задание [README.md](task%2FREADME.md)
* [Репа с серверной частью](https://github.com/asb1302/innopolis_go_chat)
* Для взаимодействия сервера и клиента используется специально созданный для этого go-модуль
  [innopolis_go_chat/tree/asb1302-dev/pkg/chatdata](https://github.com/asb1302/innopolis_go_chat/tree/asb1302-dev/pkg/chatdata)
* Адрес прода `SERVER_HOST` wss://innopolisgochat-production.up.railway.app
* Как получить токен `AUTH_TOKEN` [описано тут](https://github.com/asb1302/innopolis_go_auth_service/tree/asb1302-dev) 

## Инструкция по использованию клиента

Этот клиент является консольным приложением для взаимодействия с сервером чатов через WebSocket. Он позволяет создавать
новые чаты с другими пользователями и входить в существующие чаты для обмена сообщениями.

## Шаг 1: Настройка конфигурации

Перед использованием клиента необходимо настроить конфигурационный файл `.env`, который должен находиться в той же
директории, что и исполняемый файл клиента.

## Шаг 2: Запуск клиента

```bash
go run main.go
```

## Шаг 3: Использование клиента

После запуска клиента вы увидите меню с выбором действий:

1. Создать новый чат с другим пользователем
2. Войти в чат с пользователем

Введите ваш выбор (для выхода введите exit или нажмите ctrl+C):

`>`

### Пункт 1: Создать новый чат с другим пользователем

При выборе этого пункта вам будет предложено ввести идентификатор пользователя, с которым вы хотите начать чат:

```
Введите ID пользователя, с которым вы бы хотели начать чат
или введите return для выхода в предыдущее меню.
>
```

После ввода ID пользователя клиент отправит запрос на сервер для создания нового чата. Если чат успешно создан, вы
получите сообщение с идентификатором чата:

```shell
Чат создан, ID чата: <chat_id>
```

Вы можете использовать этот ID чата для дальнейшего общения, выбрав пункт 2.

### Пункт 2: Войти в чат с пользователем

При выборе этого пункта вам будет предложено ввести идентификатор чата:

```
Введите ID чата для начала общения
или введите return для выхода в предыдущее меню.
>
```

После ввода ID чата вы сможете отправлять сообщения в этот чат. Все сообщения будут отображаться с указанием времени и
ID отправителя:

```
Вводите сообщения для отправки:
> Привет!
<your_user_id> 10.08.2024 10:00: Привет!
>
```

Если в чат придет сообщение от другого пользователя, оно также будет отображено в этом окне.

## Выход из клиента

Для выхода из программы в любой момент вы можете ввести exit или нажать Ctrl+C. Программа завершится корректно, завершив
все активные соединения.